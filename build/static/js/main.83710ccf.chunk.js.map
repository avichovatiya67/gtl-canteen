{"version":3,"sources":["components/QrScanner.js","firebase.js","components/UserPage.js","components/VendorPage.js","App.js","index.js"],"names":["QrScanner","_ref","onScan","result","setResult","useState","useEffect","_jsxs","children","_jsx","QrReader","delay","onError","err","console","error","data","log","text","style","width","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","Firestore","UserPage","selectedProduct","setSelectedProduct","scannedData","setScannedData","handleProductClick","product","handleScanned","async","navigator","permissions","query","name","then","permissionStatus","alert","state","catch","getCameraPermission","onClick","VendorPage","scannedUsers","setScannedUsers","unsubscribe","collection","onSnapshot","snapshot","users","docs","map","doc","user","index","router","createBrowserRouter","path","element","App","RouterProvider","container","document","getElementById","render"],"mappings":"+LA2CeA,MAxCGC,IAAiB,IAAhB,OAAEC,GAAQD,EAC3B,MAAOE,EAAQC,GAAaC,mBAAS,MAuBrC,OATAC,qBAAU,KACRF,EAAU,MAEH,KAELA,EAAU,KAAK,IAEhB,IAGDG,eAAA,OAAAC,SAAA,CACEC,cAACC,IAAQ,CACPC,MAAO,IACPC,QAjBeC,IACnBC,QAAQC,MAAMF,EAAI,EAiBdX,OA1Bcc,IACdA,IACFF,QAAQG,IAAID,GACZZ,EAAUY,EAAKE,MACfhB,EAAOc,EAAKE,MACd,EAsBIC,MAAO,CAAEC,MAAO,WAKjBjB,GAAUI,eAAA,KAAAC,SAAA,CAAG,oBAAkBL,OAC5B,E,eC1BV,MASMkB,EAAMC,YATW,CACrBC,OAAQ,0CACRC,WAAY,8BACZC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAGXC,EAAK,IAAIC,IAAUV,GCwDVW,MA3EEA,KACf,MAAOC,EAAiBC,GAAsB7B,mBAAS,OAChD8B,EAAaC,GAAkB/B,mBAAS,MAEzCgC,EAAsBC,IAC1BJ,EAAmBI,EAAQ,EAGvBC,EAAiBvB,IACrB,MAAMsB,EAAUL,EAChBC,EAAmB,MACnBE,EAAeE,GACfxB,QAAQG,IAAI,mBAAoBD,EAAK,EAgDvC,OAJAV,qBAAU,KAxBkBkC,iBAYpBC,UAAUC,YACbC,MAAM,CAAEC,KAAM,WACdC,MAAMC,IACLC,MAAM,iCACNjC,QAAQG,IAAI,2BAA4B6B,EAAiBE,MAAM,IAEhEC,OAAOlC,IACNgC,MAAM,gCACNjC,QAAQG,IAAI,0BAA2BF,EAAM,GAC7C,EAIJmC,EAAqB,GACpB,IAGD3C,eAAA,OAAAC,SAAA,CACEC,cAAA,MAAAD,SAAI,cACJC,cAAA,UAAQ0C,QAASA,IAAMd,EAAmB,OAAO7B,SAAC,QAClDC,cAAA,UAAQ0C,QAASA,IAAMd,EAAmB,UAAU7B,SAAC,WACrDC,cAAA,UAAQ0C,QAASA,IAAMd,EAAmB,SAAS7B,SAAC,UACnD2B,GAAe5B,eAAA,MAAAC,SAAA,CAAI,oBAAkB2B,KAEjB,QAApBF,GAA6BxB,cAACT,EAAS,CAACE,OAAQqC,IAC5B,WAApBN,GAAgCxB,cAACT,EAAS,CAACE,OAAQqC,IAC/B,UAApBN,GAA+BxB,cAACT,EAAS,CAACE,OAAQqC,MAC/C,EC/CKa,MAzBIA,KACjB,MAAOC,EAAcC,GAAmBjD,mBAAS,IAYjD,OAVAC,qBAAU,KAER,MAAMiD,EAAczB,EAAG0B,WAAW,gBAAgBC,YAAYC,IAC5D,MAAMC,EAAQD,EAASE,KAAKC,KAAKC,GAAQA,EAAI9C,SAC7CsC,EAAgBK,EAAM,IAGxB,MAAO,IAAMJ,GAAa,GACzB,IAGDhD,eAAA,OAAAC,SAAA,CACEC,cAAA,MAAAD,SAAI,gBACJC,cAAA,MAAAD,SACG6C,EAAaQ,KAAI,CAACE,EAAMC,IACvBvD,cAAA,MAAAD,SAAiBuD,EAAKnB,MAAboB,SAGT,E,MClBV,MAAMC,EAASC,YAAoB,CACjC,CACEC,KAAM,IACNC,QAAS3D,cAACuB,EAAQ,KAEpB,CACEmC,KAAM,UACNC,QAAS3D,cAAC2C,EAAU,OAYTiB,MARf,WACE,OAEI5D,aADF,CACG6D,IAAc,CAACL,OAAQA,GAG9B,ECrBA,MAAMM,EAAYC,SAASC,eAAe,QAC1CC,iBAAOjE,cAAC4D,EAAG,IAAKE,E","file":"static/js/main.83710ccf.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport QrReader from \"react-qr-scanner\";\n\nconst QrScanner = ({ onScan }) => {\n  const [result, setResult] = useState(null);\n\n  const handleScan = (data) => {\n    if (data) {\n      console.log(data);\n      setResult(data.text);\n      onScan(data.text); // You can send the data to Firebase or handle it as needed\n    }\n  };\n\n  const handleError = (err) => {\n    console.error(err);\n  };\n\n  useEffect(() => {\n    setResult(null);\n\n    return () => {\n      // Clean up resources (e.g., stop the camera) when the component is unmounted\n      setResult(null);\n    };\n  }, []);\n\n  return (\n    <div>\n      <QrReader\n        delay={2000}\n        onError={handleError}\n        onScan={handleScan}\n        style={{ width: \"300px\" }}\n        // constraints={{\n        //     facingMode: 'environment'\n        // }}\n      />\n      {result && <p>Scanned QR Code: {result}</p>}\n    </div>\n  );\n};\n\nexport default QrScanner;\n","import { initializeApp } from \"firebase/app\";\nimport \"firebase/firestore\";\nimport { Firestore } from \"firebase/firestore\";\n\n// const firebaseConfig = {\n//   apiKey: \"YOUR_API_KEY\",\n//   authDomain: \"YOUR_AUTH_DOMAIN\",\n//   projectId: \"YOUR_PROJECT_ID\",\n//   storageBucket: \"YOUR_STORAGE_BUCKET\",\n//   messagingSenderId: \"YOUR_MESSAGING_SENDER_ID\",\n//   appId: \"YOUR_APP_ID\",\n// };\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAzK-PeNqxjG_z17hvxEN4d_B9NBWAewAg\",\n  authDomain: \"gtl-canteen.firebaseapp.com\",\n  projectId: \"gtl-canteen\",\n  storageBucket: \"gtl-canteen.appspot.com\",\n  messagingSenderId: \"115410252401\",\n  appId: \"1:115410252401:web:cc3e7f835d0dfd55cde1d0\",\n  measurementId: \"G-MKXK0Q76G0\",\n};\nconst app = initializeApp(firebaseConfig);\nconst db = new Firestore(app);\n\nexport { db };\n","import React, { useState, useEffect } from \"react\";\nimport QrScanner from \"./QrScanner\";\nimport { db } from \"../firebase\";\n\nconst UserPage = () => {\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [scannedData, setScannedData] = useState(null);\n\n  const handleProductClick = (product) => {\n    setSelectedProduct(product);\n  };\n\n  const handleScanned = (data) => {\n    const product = selectedProduct; // Use the selected product\n    setSelectedProduct(null); // Reset the selected product\n    setScannedData(product);\n    console.log(\"Scanned QR Code:\", data);\n    // Store the scanned data in Firebase\n    // db.ref('scannedData').push({\n    //   product: data.product, // Adjust this based on your product or use selectedProduct state\n    //   qrData: data,\n    //   timestamp: Date.now(),\n    // });\n  };\n\n  // navigator?.mediaDevices\n  //   ?.getUserMedia({ video: true })\n  //   .then((stream) => {\n  //     alert(\"Camera permission granted\");\n  //     console.log(\"Camera permission granted:\", stream);\n  //   })\n  //   .catch((error) => {\n  //     // alert(\"Camera permission denied\");\n  //     console.log(\"Camera permission denied:\", error);\n  //   });\n\n  const getCameraPermission = async () => {\n    // await navigator?.mediaDevices\n    //   ?.getUserMedia({ video: true })\n    //   .then((stream) => {\n    //     alert(\"Camera permission granted\");\n    //     console.log(\"Camera permission granted:\", stream);\n    //   })\n    //   .catch((error) => {\n    //     alert(\"Camera permission denied\");\n    //     console.log(\"Camera permission denied:\", error);\n    //   });\n\n    await navigator.permissions\n      .query({ name: \"camera\" })\n      .then((permissionStatus) => {\n        alert(\"Camera permission granted 123\");\n        console.log(\"Camera permission state:\", permissionStatus.state);\n      })\n      .catch((error) => {\n        alert(\"Camera permission denied 123\");\n        console.log(\"Permission query error:\", error);\n      });\n  };\n\n  useEffect(() => {\n    getCameraPermission();\n  }, []);\n\n  return (\n    <div>\n      <h1>User Page</h1>\n      <button onClick={() => handleProductClick(\"Tea\")}>Tea</button>\n      <button onClick={() => handleProductClick(\"Coffee\")}>Coffee</button>\n      <button onClick={() => handleProductClick(\"Snack\")}>Snack</button>\n      {scannedData && <h3>Scanned QR Code: {scannedData}</h3>}\n\n      {selectedProduct === \"Tea\" && <QrScanner onScan={handleScanned} />}\n      {selectedProduct === \"Coffee\" && <QrScanner onScan={handleScanned} />}\n      {selectedProduct === \"Snack\" && <QrScanner onScan={handleScanned} />}\n    </div>\n  );\n};\n\nexport default UserPage;\n","import React, { useEffect, useState } from 'react';\nimport { db } from '../firebase';\n\nconst VendorPage = () => {\n  const [scannedUsers, setScannedUsers] = useState([]);\n\n  useEffect(() => {\n    // Fetch and listen for updates from Firebase\n    const unsubscribe = db.collection('scannedUsers').onSnapshot((snapshot) => {\n      const users = snapshot.docs.map((doc) => doc.data());\n      setScannedUsers(users);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  return (\n    <div>\n      <h1>Vendor Page</h1>\n      <ul>\n        {scannedUsers.map((user, index) => (\n          <li key={index}>{user.name}</li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default VendorPage;\n","import React from \"react\";\nimport { createBrowserRouter, RouterProvider } from \"react-router-dom\";\nimport UserPage from \"./components/UserPage\";\nimport VendorPage from \"./components/VendorPage\";\nimport \"./index.css\";\n\nconst router = createBrowserRouter([\n  {\n    path: \"/\",\n    element: <UserPage />,\n  },\n  {\n    path: \"/vendor\",\n    element: <VendorPage />,\n  },\n]);\n\nfunction App() {\n  return (\n    // <React.StrictMode>\n      <RouterProvider router={router} />\n    // </React.StrictMode>\n  );\n}\n\nexport default App;\n","import { render } from \"react-dom\";\nimport App from \"./App\";\nconst container = document.getElementById(\"root\");\nrender(<App />, container);\n"],"sourceRoot":""}