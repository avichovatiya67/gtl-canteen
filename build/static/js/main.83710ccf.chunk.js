(this["webpackJsonpgtl-canteen"]=this["webpackJsonpgtl-canteen"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var c=n(7),s=n(0),a=n(10),o=n(14),r=n.n(o),l=n(2);var j=e=>{let{onScan:t}=e;const[n,c]=Object(s.useState)(null);return Object(s.useEffect)((()=>(c(null),()=>{c(null)})),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)(r.a,{delay:2e3,onError:e=>{console.error(e)},onScan:e=>{e&&(console.log(e),c(e.text),t(e.text))},style:{width:"300px"}}),n&&Object(l.jsxs)("p",{children:["Scanned QR Code: ",n]})]})},d=n(15),i=n(9);const b=Object(d.a)({apiKey:"AIzaSyAzK-PeNqxjG_z17hvxEN4d_B9NBWAewAg",authDomain:"gtl-canteen.firebaseapp.com",projectId:"gtl-canteen",storageBucket:"gtl-canteen.appspot.com",messagingSenderId:"115410252401",appId:"1:115410252401:web:cc3e7f835d0dfd55cde1d0",measurementId:"G-MKXK0Q76G0"}),u=new i.a(b);var O=()=>{const[e,t]=Object(s.useState)(null),[n,c]=Object(s.useState)(null),a=e=>{t(e)},o=n=>{const s=e;t(null),c(s),console.log("Scanned QR Code:",n)};return Object(s.useEffect)((()=>{(async()=>{await navigator.permissions.query({name:"camera"}).then((e=>{alert("Camera permission granted 123"),console.log("Camera permission state:",e.state)})).catch((e=>{alert("Camera permission denied 123"),console.log("Permission query error:",e)}))})()}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"User Page"}),Object(l.jsx)("button",{onClick:()=>a("Tea"),children:"Tea"}),Object(l.jsx)("button",{onClick:()=>a("Coffee"),children:"Coffee"}),Object(l.jsx)("button",{onClick:()=>a("Snack"),children:"Snack"}),n&&Object(l.jsxs)("h3",{children:["Scanned QR Code: ",n]}),"Tea"===e&&Object(l.jsx)(j,{onScan:o}),"Coffee"===e&&Object(l.jsx)(j,{onScan:o}),"Snack"===e&&Object(l.jsx)(j,{onScan:o})]})};var h=()=>{const[e,t]=Object(s.useState)([]);return Object(s.useEffect)((()=>{const e=u.collection("scannedUsers").onSnapshot((e=>{const n=e.docs.map((e=>e.data()));t(n)}));return()=>e()}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Vendor Page"}),Object(l.jsx)("ul",{children:e.map(((e,t)=>Object(l.jsx)("li",{children:e.name},t)))})]})};n(21);const p=Object(a.b)([{path:"/",element:Object(l.jsx)(O,{})},{path:"/vendor",element:Object(l.jsx)(h,{})}]);var x=function(){return Object(l.jsx)(a.a,{router:p})};const m=document.getElementById("root");Object(c.render)(Object(l.jsx)(x,{}),m)}},[[22,1,2]]]);
//# sourceMappingURL=main.83710ccf.chunk.js.map