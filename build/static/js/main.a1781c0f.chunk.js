(this["webpackJsonpgtl-canteen"]=this["webpackJsonpgtl-canteen"]||[]).push([[0],{151:function(e,t){},181:function(e,t,n){},182:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),a=n(106),c=n.n(a),r=n(79),l="data:image/png;base64,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",o=n.p+"static/media/tea_bw.fd4db84d.png",d=n.p+"static/media/snacks.e7c2fe49.png",g=n.p+"static/media/snacks_bw.1ae18535.png",j=n.p+"static/media/scanned.85444077.png",u=n(107),b=n.n(u);const h=async()=>await fetch("https://worldtimeapi.org/api/timezone/Asia/Kolkata").then((async e=>{const t=await e.json();return new Date(t.datetime)})).catch((e=>(console.log("Error: ",e),new Date)));var p=n(22),x=n(53);n(105);const m={apiKey:"AIzaSyAzK-PeNqxjG_z17hvxEN4d_B9NBWAewAg",authDomain:"gtl-canteen.firebaseapp.com",projectId:"gtl-canteen",storageBucket:"gtl-canteen.appspot.com",messagingSenderId:"115410252401",appId:"1:115410252401:web:cc3e7f835d0dfd55cde1d0",measurementId:"G-MKXK0Q76G0"};console.log("firebaseConfig: ",m),x.a.initializeApp(m);const O=x.a.firestore();var v=n(11),f=n.p+"static/media/canteen.2d11fbd6.png",A=n(68),S=n.n(A);const y="gtl-canteen";var w=n(2);const E=e=>{let{product:t,selectedProduct:n,onClick:i,status:s=2,style:a}=e;const c={Morning:{0:o,1:l,2:o},Evening:{0:o,1:l,2:o},Snack:{0:g,1:d,2:g}};return Object(w.jsxs)("div",{className:"border rounded-3 d-flex flex-column align-items-center"+(n===t?" bg-light border-warning":" border-dark")+(1!==s?" disabled":""),style:{...a},onClick:1===s?()=>i(t):null,children:[2===s&&Object(w.jsx)("img",{style:{position:"fixed",...a},src:j}),Object(w.jsxs)("div",{className:"mt-3 d-flex flex-column gap-2 align-items-center",children:[Object(w.jsx)("img",{height:"70%",width:"70%",src:c[t][s],alt:t}),t.toUpperCase()]})]})};var D=()=>{const[e,t]=Object(i.useState)(null),[n,s]=Object(i.useState)(null),[a,c]=Object(i.useState)(null);let r=Object(v.k)().search,l=new URLSearchParams(r),o=parseInt(l.get("uid")),d=l.get("uname");const g=async n=>{if(e===n)return;t(n);const i=await h();var a={empId:o,name:d,product:n,date:new Date(i).toLocaleDateString()};const c=(r=a,S.a.AES.encrypt(S.a.enc.Utf8.parse(JSON.stringify(r)),y).toString());var r;s(c),console.log("encrypted QR Data: ",c)},j={height:"90px",width:"90px"};return Object(i.useEffect)((()=>{let e;return(async()=>{if(o){let t=await(async()=>{const e=(await O.collection("config").doc("timing").get()).data();return{morningEndTime:{hours:parseInt(e.morningEndTime.split(":")[0]),minutes:parseInt(e.morningEndTime.split(":")[1])},eveningStartTime:{hours:parseInt(e.eveningStartTime.split(":")[0]),minutes:parseInt(e.eveningStartTime.split(":")[1])}}})();const n=await h();let i=new Date(n);i.setHours(t.morningEndTime.hours),i.setMinutes(t.morningEndTime.minutes);let s=new Date(n);s.setHours(t.eveningStartTime.hours),s.setMinutes(t.eveningStartTime.minutes);const a=Object(p.e)(Object(p.a)(O,"scannedData"),Object(p.f)("empId","==",o),Object(p.f)("date","==",n.toLocaleDateString()));e=Object(p.c)(a,(e=>{let t=null;if(e.size){const a=e.docs.map((e=>e.data()))[0];t={isMorning:n<=i?a.isMorning?2:1:0,isEvening:n>=s?a.isEvening?2:1:0,isSnack:n>=s?a.isSnack?2:1:0}}else t={isMorning:n<=i?1:0,isEvening:n>=s?1:0,isSnack:n>=s?1:0};c(t)}))}})(),()=>{e&&e(),t(null),s(null)}}),[o]),Object(w.jsxs)("div",{className:"container text-center mt-3",children:[Object(w.jsx)("h5",{children:"Please Select Your Menu"}),Object(w.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"50vh"},children:n&&e&&a&&1==a["is".concat(e)]?Object(w.jsx)(b.a,{value:n}):Object(w.jsx)("img",{src:f,height:"100%"})}),n&&e&&a&&1==a["is".concat(e)]?Object(w.jsxs)("h5",{className:"my-2",style:{height:"48px"},children:[e&&Object(w.jsxs)(w.Fragment,{children:["Show this QR code to avail ",Object(w.jsx)("br",{})]}),(e?["Morning","Evening"].includes(e)?e+" Tea/Coffee":"Evening Snacks":null)||"Refreshments"]}):e?Object(w.jsx)("h5",{className:"my-2",style:{height:"48px"},children:"Enjoy Your Day !!"}):Object(w.jsx)("h5",{className:"my-2",style:{height:"48px"},children:"Please Select Your Refreshment!"}),Object(w.jsx)("div",{className:"row mx-auto d-flex justify-content-center gap-2",style:{width:"100%",fontSize:"10px",fontWeight:"bold"},children:["Morning","Evening","Snack"].map(((t,n)=>Object(w.jsx)(E,{product:t,selectedProduct:e,onClick:g,status:a?a["is".concat(t)]:0,style:{...j}},n)))})]})},C=n(108);var I=e=>{let{onScan:t,setSnackbarData:n,isLoading:s}=e,a=null,c=-1;const r=e=>(e=>{const t=S.a.AES.decrypt(e,y);return JSON.parse(t.toString(S.a.enc.Utf8))})(e),l=Object(i.useCallback)((e=>{if(e)if(e.text!==a){a=e.text;let n=r(e.text);t(n),c=(new Date).getTime()+4e3}else{(()=>{const e=(new Date).getTime();return(e-c)/1e3>=2&&(c=e,!0)})()&&!s&&n({message:"QR code is already scanned",severity:"warning"})}}),[t]);return Object(w.jsx)(C.a,{scanDelay:5e3,onResult:l,constraints:{facingMode:"environment"},containerStyle:{height:"inherit"},videoContainerStyle:{padding:"0"},videoStyle:{position:"relative",height:"inherit",width:"inherit"}})},M=n(264),k=n(265),T=n(259),Y=n(258),F=n(267),H=n(250),J=n(119),L=n.n(J),N=n(120),R=n.n(N),Q=n(112),z=n(257),B=n(251);const K=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],X=e=>{var t;let{user:n,highlightIndex:i,id:s}=e;return Object(w.jsx)("div",{className:"card m-2",style:{transition:"background-color 2s ease",backgroundColor:s!==i?"transparent":"#4caf50"},children:Object(w.jsxs)("div",{className:"card-body p-2",children:[Object(w.jsxs)("h6",{className:"d-flex justify-content-between",children:[Object(w.jsx)("div",{children:n.name}),Object(w.jsx)("div",{className:"text-secondary",children:new Date(1e3*(null===(t=n.created)||void 0===t?void 0:t.seconds)).toTimeString().slice(0,5)})]}),Object(w.jsx)("div",{className:"d-flex justify-content-around",children:["isMorning","isEvening","isSnack"].map(((e,t)=>Object(w.jsxs)("div",{className:"d-flex flex-column justify-content-end align-items-center",children:[n[e]?Object(w.jsx)(L.a,{color:"success"}):Object(w.jsx)(R.a,{color:"disabled"}),Object(w.jsx)(w.Fragment,{children:e.slice(2)})]},t)))})]})})};var V=()=>{const[e,t]=Object(i.useState)([]),[n,s]=Object(i.useState)(!1),[a,c]=Object(i.useState)(!0),[r,l]=Object(i.useState)(null),[o,d]=Object(i.useState)(null),[g,j]=Object(i.useState)(null),[u,b]=Object(i.useState)(null),[m,v]=Object(i.useState)(!1),f=Object(i.useRef)(null);return Object(i.useEffect)((()=>{let e;return(async()=>{const n=await h(),i=Object(p.e)(Object(p.a)(O,"scannedData"),Object(p.f)("date","==",n.toLocaleDateString()),Object(p.d)("modified","desc"));e=Object(p.c)(i,(e=>{if(e.size){const n=e.docs.map((e=>e.data()));t(n),j(0),d({morning:n.filter((e=>e.isMorning)).length,evening:n.filter((e=>e.isEvening)).length,snack:n.filter((e=>e.isSnack)).length})}c(!1)}))})(),()=>{e&&e()}}),[]),Object(i.useEffect)((()=>{if(u){c(!0);const e=Object(p.e)(Object(p.a)(O,"scannedData"),Object(p.f)("date","==",u),Object(p.d)("modified","desc"));Object(p.b)(e).then((e=>{if(e.size){const n=e.docs.map((e=>e.data()));t(n),d({morning:n.filter((e=>e.isMorning)).length,evening:n.filter((e=>e.isEvening)).length,snack:n.filter((e=>e.isSnack)).length})}else t([]),d({morning:0,evening:0,snack:0});c(!1)}))}}),[u]),Object(i.useEffect)((()=>{const e=setTimeout((()=>{j(null)}),3e3);return()=>{clearTimeout(e)}}),[g]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"container-fluid p-2",children:[Object(w.jsxs)("div",{style:{position:"relative"},className:"d-flex align-items-center justify-content-center m-3",children:[Object(w.jsxs)("div",{ref:f,className:"d-flex align-items-center justify-content-center",style:{borderRadius:"10px",boxShadow:"0px 0px 10px 0px #000000",overflow:"hidden",height:window.screen.width-50,width:"100%"},children:[n&&Object(w.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{position:"absolute",zIndex:1e3,height:"100%",width:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",borderRadius:"10px"},children:Object(w.jsx)(M.a,{size:50,thickness:4})}),Object(w.jsx)(I,{onScan:n?null:async e=>{try{var t;if(n)return;s(!0),console.log("Scanned QR Code:",e),e=e&&"object"===typeof e?e:null;const r=await h();if((null===(t=e)||void 0===t?void 0:t.date)===new Date(r).toLocaleDateString()){let t={empId:e.empId,name:e.name,isMorning:"Morning"===e.product,isEvening:"Evening"===e.product,isSnack:"Snack"===e.product,date:new Date(r).toLocaleDateString(),created:x.a.firestore.FieldValue.serverTimestamp(),modified:x.a.firestore.FieldValue.serverTimestamp()};var i=await(async e=>{const t=Object(p.e)(Object(p.a)(O,"scannedData"),Object(p.f)("empId","==",e.empId),Object(p.f)("date","==",e.date)),n=await Object(p.b)(t);return 0===n.size?null:n.docs.map((e=>({id:e.id,...e.data()})))[0]})(t,e.product);if(i){if(a=i,c=e.product,a[{Morning:"isMorning",Evening:"isEvening",Snack:"isSnack"}[c]])l({message:"Already Availed!",severity:"error"});else{const t={modified:x.a.firestore.FieldValue.serverTimestamp()};"Morning"===e.product?t.isMorning=!0:"Evening"===e.product?t.isEvening=!0:"Snack"===e.product&&(t.isSnack=!0);await O.collection("scannedData").doc(i.id).update(t);l({message:"Scan Verified!",severity:"success"})}}else{await O.collection("scannedData").add(t);l({message:"Scan Verified!",severity:"success"})}}else{const t=e.date.split("/");new Date(t[2],t[1]-1,t[0])<new Date(r)?(console.log("QR Code Expired!"),l({message:"QR Code Expired!",severity:"error"})):(console.log("Invalid QR Code!"),l({message:"Invalid QR Code!",severity:"error"}))}}catch(r){console.log("Error: ",r.message),l({message:"Invalid QR Code!",severity:"error"})}finally{s(!1)}var a,c},setSnackbarData:l,isLoading:n})]}),Object(w.jsx)("div",{className:"d-flex p-1 justify-content-around align-items-center",style:{borderRadius:"10px 10px 10px 10px",position:"absolute",bottom:"0px",width:"100%"},children:Object.keys(o||{}).map(((e,t)=>Object(w.jsx)(k.a,{size:"large",variant:"extended",children:Object(w.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(w.jsx)("h1",{className:"m-0 p-0 text-center",style:{lineHeight:.5},children:o[e]}),Object(w.jsx)("h6",{className:"text-muted text-capitalize",style:{marginBottom:"-5px",lineHeight:1},children:e})]})},t)))})]}),Object(w.jsx)("div",{children:e.length?e.map(((e,t)=>Object(w.jsx)(X,{user:e,id:t,highlightIndex:g},t))):Object(w.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(w.jsx)("h6",{children:"No Data Found!"})})}),Object(w.jsx)("div",{style:{position:"fixed",bottom:"20px",right:"20px"},children:Object(w.jsxs)(k.a,{onClick:()=>v(!m),style:{backgroundColor:H.a[700]},children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{className:"m-0 p-0 text-center",style:{lineHeight:1},children:u?u.slice(0,2):(new Date).toLocaleDateString().slice(0,2)}),Object(w.jsx)("h6",{className:"text-capitalize",style:{marginBottom:"-5px",lineHeight:1},children:u?K[parseInt(u.slice(3,5))]:K[parseInt((new Date).toLocaleDateString(0).slice(3,5))]})]}),Object(w.jsx)("div",{className:"invisible",style:{position:"absolute",bottom:"0px",right:"0px"},children:Object(w.jsx)(Q.a,{dateAdapter:B.a,children:Object(w.jsx)(z.a,{open:m,closeOnSelect:!0,disableFuture:!0,onClose:()=>v(!1),onAccept:e=>{v(!1),b(new Date(e).toLocaleDateString())}})})})]})})]}),Object(w.jsx)(T.a,{open:Boolean(null===r||void 0===r?void 0:r.message),autoHideDuration:2e3,onClose:()=>l(null),children:(null===r||void 0===r?void 0:r.severity)&&Object(w.jsx)(Y.a,{onClose:()=>l(null),severity:(null===r||void 0===r?void 0:r.severity)||"info",variant:"filled",sx:{width:"100%"},children:null===r||void 0===r?void 0:r.message})}),a&&Object(w.jsx)(F.a,{open:!0,style:{zIndex:1e4,color:"white"},children:Object(w.jsx)(M.a,{color:"inherit",size:"50px"})})]})};n(181);const W=Object(r.b)([{path:"/",element:Object(w.jsx)(D,{})},{path:"/vendor",element:Object(w.jsx)(V,{})}]);var P=function(){return Object(w.jsx)(r.a,{router:W})};"process"in window||(window.process={});c.a.createRoot(document.getElementById("root")).render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(P,{})}))}},[[182,1,2]]]);
//# sourceMappingURL=main.a1781c0f.chunk.js.map